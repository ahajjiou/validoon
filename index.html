<!-- index.html -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="referrer" content="no-referrer" />
  <meta name="description" content="Validoon — a local decision engine that triages suspicious inputs (URLs, logs, payloads) into ALLOW / WARN / BLOCK with clear reasons." />
  <title>Validoon</title>

  <style>
    :root{
      --bg:#020617; --panel:#0f172a; --muted:#94a3b8; --text:#f8fafc;
      --line:#1e293b; --ok:#10b981; --warn:#fbbf24; --bad:#fb7185; --info:#38bdf8;
      --accent:#8b5cf6; --shadow:0 25px 50px -12px rgba(0,0,0,.55);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0; font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
      background:var(--bg); color:var(--text); line-height:1.55;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .container{ max-width:1200px; margin:0 auto; padding:28px 16px 46px; }
    .glass{
      background:rgba(15,23,42,.94); border:1px solid var(--line); border-radius:18px;
      padding:18px; backdrop-filter:blur(10px); box-shadow:var(--shadow);
    }
    .header{ display:flex; align-items:flex-start; justify-content:space-between; gap:14px; flex-wrap:wrap; margin-bottom:16px; }
    .brand h1{ margin:0; font-size:28px; letter-spacing:-.6px; }
    .brand p{ margin:6px 0 0; color:var(--muted); font-size:13px; max-width:820px; }
    .pill{
      background:rgba(16,185,129,.10); color:#34d399; border:1px solid rgba(16,185,129,.35);
      padding:6px 10px; border-radius:999px; font-size:12px; font-weight:800; letter-spacing:.3px;
      white-space:nowrap;
    }

    .hero{
      display:grid; grid-template-columns:1.4fr 1fr; gap:14px; margin-top:12px;
    }
    @media (max-width:980px){ .hero{ grid-template-columns:1fr; } }

    .card{ border:1px solid var(--line); border-radius:16px; padding:14px; background:rgba(255,255,255,.02); }
    .card h3{ margin:0; font-size:14px; letter-spacing:.2px; }
    .card p{ margin:8px 0 0; font-size:13px; color:var(--muted); }
    .bullets{ margin:10px 0 0; padding-left:18px; color:var(--muted); font-size:13px; }
    .bullets li{ margin:6px 0; }

    .workspace{ display:grid; grid-template-columns:1.6fr 1fr; gap:16px; margin-top:16px; }
    @media (max-width:980px){ .workspace{ grid-template-columns:1fr; } }

    .label{ display:block; font-size:11px; color:var(--muted); letter-spacing:1.1px; text-transform:uppercase; margin-bottom:8px; }
    textarea{
      width:100%; min-height:320px; background:#010409; border:2px solid var(--line);
      border-radius:14px; color:#e2e8f0; padding:14px; font-family:ui-monospace,Consolas,Monaco,monospace;
      font-size:13px; outline:none; resize:vertical;
      transition:border-color .18s ease, box-shadow .18s ease;
    }
    textarea:focus{ border-color:var(--accent); box-shadow:0 0 0 4px rgba(139,92,246,.14); }
    .btn-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; align-items:center; }
    .btn{
      padding:11px 14px; border-radius:12px; border:1px solid transparent;
      font-weight:900; cursor:pointer; display:inline-flex; align-items:center; justify-content:center;
      gap:8px; font-size:13px; color:#fff; background:transparent;
      transition:transform .18s ease, border-color .18s ease, background-color .18s ease, box-shadow .18s ease, filter .18s ease;
      user-select:none;
    }
    .btn:active{ transform:translateY(0); }
    .btn-main{ background:var(--accent); }
    .btn-main:hover{ transform:translateY(-1px); filter:brightness(1.05); box-shadow:0 10px 24px rgba(139,92,246,.22); }
    .btn-sec{ border-color:var(--line); background:rgba(15,23,42,.35); }
    .btn-sec:hover{ transform:translateY(-1px); border-color:#334155; background:rgba(255,255,255,.03); }
    .btn-clear{ margin-left:auto; }

    .divider{ height:1px; background:var(--line); margin:12px 0; }

    .verdict{ font-size:46px; font-weight:1000; letter-spacing:-1.4px; }
    .kpi-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; }
    .kpi{ background:#111b2f; border:1px solid var(--line); border-radius:14px; padding:12px; border-bottom:4px solid var(--accent); }
    .kpi .k{ display:block; font-size:11px; color:var(--muted); text-transform:uppercase; letter-spacing:1.1px; }
    .kpi .v{ font-size:24px; font-weight:1000; letter-spacing:-.8px; }

    .chipWrap{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
    .chip{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:#0b1530; color:var(--info); font-weight:900; font-size:11px;
      white-space:nowrap;
    }
    ul{ margin:10px 0 0; padding-left:18px; color:var(--muted); font-size:13px; }
    li{ margin:6px 0; }

    table{ width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:14px; margin-top:16px; }
    thead th{
      text-align:left; padding:12px; color:var(--muted); font-size:11px; letter-spacing:1px; text-transform:uppercase;
      border-bottom:2px solid var(--line); background:rgba(255,255,255,.03);
      position:sticky; top:0; z-index:1;
    }
    tbody td{
      padding:11px 12px; border-bottom:1px solid rgba(30,41,59,.9); vertical-align:top; font-size:13px;
      background:rgba(255,255,255,.015);
    }
    tbody tr:hover td{ background:rgba(255,255,255,.03); }
    .mono{ font-family:ui-monospace,Consolas,Monaco,monospace; color:#cbd5e1; word-break:break-all; }

    .tag{
      display:inline-block; font-weight:1000; font-size:11px; padding:4px 9px; border-radius:8px; border:1px solid transparent;
    }
    .tag-safe{ color:var(--ok); background:rgba(16,185,129,.10); border-color:rgba(16,185,129,.26); }
    .tag-warn{ color:var(--warn); background:rgba(245,158,11,.10); border-color:rgba(245,158,11,.26); }
    .tag-danger{ color:var(--bad); background:rgba(251,113,133,.10); border-color:rgba(251,113,133,.26); }

    details{ border:1px solid var(--line); border-radius:14px; padding:10px 12px; background:rgba(255,255,255,.02); margin-top:12px; }
    summary{ cursor:pointer; font-weight:900; color:#cbd5e1; list-style:none; }
    summary::-webkit-details-marker{ display:none; }
    .note{ font-size:12px; color:var(--muted); margin-top:8px; }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <h1>Validoon</h1>
        <p>
          Turn noisy inputs into clear decisions—fast. Paste URLs, logs, or suspicious strings and Validoon will
          <b>decode</b>, <b>detect</b>, and <b>explain</b> why each line is <b>ALLOW</b>, <b>WARN</b>, or <b>BLOCK</b>.
          Runs <b>locally in your browser</b> (no uploads).
        </p>
      </div>
      <div class="pill">Client-side • Local</div>
    </div>

    <div class="hero">
      <div class="card">
        <h3>What it does</h3>
        <p>Quick triage for security/ops teams and builders: identify risky patterns before they reach your pipeline.</p>
        <ul class="bullets">
          <li>Decodes Unicode / URL-encoding / Base64 (safe heuristic)</li>
          <li>Flags SQLi, XSS, path traversal/LFI, basic command injection</li>
          <li>URL intelligence: HTTP, redirect params, punycode / look-alike domains, IP hosts</li>
        </ul>
      </div>
      <div class="card">
        <h3>How to use</h3>
        <p>Paste one item per line, run scan, export JSON if you want a report.</p>
        <details>
          <summary>Transparent logic</summary>
          <div class="note">
            Decode → Detect → Score → Decide → Explain. Scores are heuristic for triage (not a replacement for server-side validation).
          </div>
        </details>
      </div>
    </div>

    <div class="workspace">
      <div class="glass">
        <span class="label">Input (one per line)</span>
        <textarea id="input" placeholder="URLs, logs, payload fragments, tokens..."></textarea>

        <div class="btn-row">
          <button class="btn btn-main" id="btnRun" type="button">Execute Scan</button>
          <button class="btn btn-sec" id="btnTestA" type="button">Load Test A</button>
          <button class="btn btn-sec" id="btnTestB" type="button">Load Test B</button>
          <button class="btn btn-sec" id="btnExport" type="button">Export JSON</button>
          <button class="btn btn-sec btn-clear" id="btnClear" type="button">Clear</button>
        </div>
      </div>

      <div class="glass">
        <span class="label">System Verdict</span>
        <div id="verdict" class="verdict">---</div>

        <div class="kpi-grid">
          <div class="kpi">
            <span class="k">Peak Severity</span>
            <span id="riskVal" class="v">0%</span>
          </div>
          <div class="kpi">
            <span class="k">Confidence</span>
            <span id="confVal" class="v">0%</span>
          </div>
        </div>

        <div class="divider"></div>
        <span class="label">Active Signals</span>
        <div id="signals" class="chipWrap" aria-live="polite"></div>

        <div class="divider"></div>
        <span class="label">Primary Reasons</span>
        <ul id="reasons" aria-live="polite"></ul>

        <div class="divider"></div>
        <span class="label">Recommended Actions</span>
        <ul id="actions" aria-live="polite"></ul>
      </div>
    </div>

    <div class="glass" style="margin-top:16px;">
      <table aria-label="Findings">
        <thead>
          <tr>
            <th style="width:42%;">Segment</th>
            <th>Type</th>
            <th>Decision</th>
            <th>Severity</th>
            <th>Confidence</th>
            <th>Entropy</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
