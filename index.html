<!-- index.html -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="referrer" content="no-referrer" />
  <title>Validoon</title>
  <meta name="description" content="Validoon — a local decision engine that triages any pasted input into ALLOW / WARN / BLOCK with clear reasons and remediation steps." />

  <style>
    :root{
      --bg:#020617; --panel:#0f172a; --muted:#94a3b8; --text:#f8fafc;
      --line:#1e293b; --ok:#10b981; --warn:#fbbf24; --bad:#f43f5e; --info:#0ea5e9;
      --accent:#8b5cf6; --shadow:0 25px 50px -12px rgba(0,0,0,.55);
    }
    *{ box-sizing:border-box; }
    body{ margin:0; font-family:system-ui,-apple-system,'Segoe UI',sans-serif; background:var(--bg); color:var(--text); line-height:1.55; }
    .container{ max-width:1220px; margin:0 auto; padding:28px 16px 34px; }
    .glass{
      background:rgba(15,23,42,.94); border:1px solid var(--line); border-radius:18px;
      padding:18px; backdrop-filter:blur(10px); box-shadow:var(--shadow);
    }
    .header{ display:flex; justify-content:space-between; align-items:flex-start; gap:14px; flex-wrap:wrap; margin-bottom:14px; }
    .brand{ margin:0; font-size:28px; letter-spacing:-.6px; }
    .tagline{ margin:6px 0 0; color:var(--muted); font-size:13px; max-width:720px; }
    .pill{
      background:rgba(139,92,246,.14); color:#d9d6ff; border:1px solid rgba(139,92,246,.38);
      padding:7px 10px; border-radius:999px; font-size:12px; font-weight:800; letter-spacing:.4px; white-space:nowrap;
    }

    .hero{ margin-top:10px; display:grid; grid-template-columns:1.35fr .65fr; gap:14px; }
    @media (max-width:980px){ .hero{ grid-template-columns:1fr; } }

    .mini{
      border:1px dashed rgba(148,163,184,.35);
      border-radius:14px; padding:12px; background:rgba(255,255,255,.02);
    }
    .mini h2{ margin:0 0 8px; font-size:14px; letter-spacing:.2px; }
    .mini p{ margin:0; color:var(--muted); font-size:13px; }
    .mini ul{ margin:10px 0 0; padding-left:18px; color:var(--muted); font-size:13px; }
    .mini li{ margin:6px 0; }

    textarea{
      width:100%; min-height:240px; background:#010409; border:2px solid var(--line);
      border-radius:14px; color:#e2e8f0; padding:14px; font-family:ui-monospace,Consolas,Monaco,monospace;
      font-size:13px; outline:none; resize:vertical;
    }
    textarea:focus{ border-color:var(--accent); box-shadow:0 0 0 4px rgba(139,92,246,.12); }

    .btn-row{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    .btn{
      padding:11px 14px; border-radius:12px; border:1px solid transparent;
      font-weight:900; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:8px;
      font-size:13px; background:transparent; color:#fff;
    }
    .btn-main{ background:var(--accent); }
    .btn-main:hover{ filter:brightness(1.06); }
    .btn-sec{ border-color:var(--line); background:rgba(15,23,42,.4); }
    .btn-sec:hover{ border-color:#334155; background:rgba(255,255,255,.03); }
    .btn-clear{ margin-left:auto; }

    .kpi-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px; }
    .kpi{
      background:#111b2f; border:1px solid var(--line); border-radius:14px; padding:12px;
      border-bottom:4px solid var(--accent);
    }
    .label{ display:block; font-size:11px; color:var(--muted); letter-spacing:1.1px; text-transform:uppercase; margin-bottom:4px; }
    .value{ font-size:26px; font-weight:1000; letter-spacing:-.8px; }
    .verdict{ font-size:46px; font-weight:1000; letter-spacing:-1.6px; margin:4px 0 0; }
    .divider{ height:1px; background:var(--line); margin:12px 0; }

    .chipWrap{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
    .chip{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:#0b1530; color:var(--info); font-weight:900; font-size:11px;
      white-space:nowrap;
    }

    ul{ margin:10px 0 0; padding-left:18px; color:var(--muted); font-size:13px; }
    li{ margin:6px 0; }

    .findings{ margin-top:14px; width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:14px; }
    .findings thead th{
      text-align:left; padding:12px; color:var(--muted); font-size:11px; letter-spacing:1px;
      text-transform:uppercase; border-bottom:2px solid var(--line); background:rgba(255,255,255,.03);
      position:sticky; top:0; z-index:1;
    }
    .findings tbody td{
      padding:10px 12px; border-bottom:1px solid rgba(30,41,59,.9); vertical-align:top; font-size:13px;
      background:rgba(255,255,255,.015);
    }
    .mono{ font-family:ui-monospace,Consolas,Monaco,monospace; color:#cbd5e1; word-break:break-all; }
    .tag{ display:inline-block; font-weight:1000; font-size:11px; padding:4px 9px; border-radius:8px; border:1px solid transparent; }
    .tag-safe{ color:var(--ok); background:rgba(16,185,129,.08); border-color:rgba(16,185,129,.22); }
    .tag-warn{ color:var(--warn); background:rgba(245,158,11,.08); border-color:rgba(245,158,11,.22); }
    .tag-danger{ color:var(--bad); background:rgba(244,63,94,.08); border-color:rgba(244,63,94,.22); }

    .small{ font-size:12px; color:var(--muted); }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 class="brand">Validoon</h1>
        <p class="tagline">
          Paste anything suspicious (URLs, logs, tokens, payloads). Validoon classifies each line into <b>ALLOW / WARN / BLOCK</b>,
          explains <b>why</b>, and suggests <b>what to do next</b> — fully local in your browser.
        </p>
      </div>
      <div class="pill">Client-side • No uploads</div>
    </div>

    <div class="hero">
      <div class="glass" aria-label="Input Panel">
        <span class="label">Input stream (one per line)</span>
        <textarea id="input" placeholder="Paste: URLs, SQL, Base64, logs, suspicious strings..."></textarea>

        <div class="btn-row">
          <button class="btn btn-main" id="btnRun" type="button">Execute Scan</button>
          <button class="btn btn-sec" id="btnTestA" type="button">Load Test A</button>
          <button class="btn btn-sec" id="btnTestB" type="button">Load Test B</button>
          <button class="btn btn-sec" id="btnExport" type="button">Export JSON</button>
          <button class="btn btn-sec btn-clear" id="btnClear" type="button">Clear</button>
        </div>

        <div class="divider"></div>

        <div class="mini">
          <h2>How it helps (simple)</h2>
          <p>
            It reduces guesswork: you get an immediate risk verdict per line with evidence signals and remediation steps.
          </p>
          <ul>
            <li>Decodes: Unicode normalization → URL decode → Base64 heuristic</li>
            <li>Detects: SQLi, XSS, command injection, path traversal/LFI, suspicious redirect URLs</li>
            <li>Scores: severity + confidence + signals</li>
          </ul>
          <p class="small">Note: This is triage guidance. Always validate server-side in real systems.</p>
        </div>
      </div>

      <div class="glass" aria-label="Summary Panel">
        <span class="label">System verdict</span>
        <div id="verdict" class="verdict">---</div>

        <div class="kpi-grid">
          <div class="kpi">
            <span class="label">Peak severity</span>
            <span id="riskVal" class="value">0%</span>
          </div>
          <div class="kpi">
            <span class="label">Confidence</span>
            <span id="confVal" class="value">0%</span>
          </div>
        </div>

        <div class="divider"></div>
        <span class="label">Signals</span>
        <div id="signals" class="chipWrap" aria-live="polite"></div>

        <div class="divider"></div>
        <span class="label">Reasons</span>
        <ul id="reasons" aria-live="polite"></ul>

        <div class="divider"></div>
        <span class="label">Actions</span>
        <ul id="actions" aria-live="polite"></ul>
      </div>
    </div>

    <div class="glass" style="margin-top:14px;" aria-label="Per-line Findings">
      <table class="findings">
        <thead>
          <tr>
            <th style="width:40%;">Segment</th>
            <th>Type</th>
            <th>Decision</th>
            <th>Severity</th>
            <th>Confidence</th>
            <th>Entropy</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
