<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Validoon</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand-badge">V</div>
        <div class="brand-text">
          <div class="brand-name">Validoon</div>
          <div class="brand-sub">Local decision engine — ALLOW / WARN / BLOCK</div>
        </div>
      </div>

      <div class="topbar-actions">
        <button id="btnInfo" class="btn btn-ghost">Info</button>
        <button id="btnClear" class="btn btn-danger">Clear</button>
      </div>
    </header>

    <main class="grid">
      <!-- Left: Input -->
      <section class="card card-lg">
        <div class="card-h">
          <div>
            <div class="h-title">Input Stream</div>
            <div class="h-sub">One item per line (URLs, logs, SQL, base64, suspicious strings).</div>
          </div>
          <div class="h-actions">
            <button id="btnLoadA" class="btn btn-pill">Load Test A</button>
            <button id="btnLoadB" class="btn btn-pill">Load Test B</button>
          </div>
        </div>

        <textarea id="inputStream" class="textarea" spellcheck="false" placeholder="Paste here..."></textarea>

        <div class="row-actions">
          <button id="btnScan" class="btn btn-primary">Execute Scan</button>
          <button id="btnExport" class="btn">Export JSON</button>
        </div>

        <div class="hint">Tip: Use Test A/B to validate end-to-end on any device/network.</div>
      </section>

      <!-- Right: Verdict -->
      <section class="card card-lg">
        <div class="card-h">
          <div>
            <div class="h-title">System Verdict</div>
            <div class="h-sub">Instant local scoring — no network calls.</div>
          </div>
        </div>

        <div id="verdictBanner" class="verdict verdict-secure">
          <div class="verdict-title" id="verdictTitle">SECURE</div>
          <div class="verdict-meta">
            <div class="meta-box">
              <div class="meta-k">Peak severity</div>
              <div class="meta-v" id="peakSeverity">0%</div>
            </div>
            <div class="meta-box">
              <div class="meta-k">Confidence</div>
              <div class="meta-v" id="confidence">0%</div>
            </div>
          </div>
        </div>

        <div class="signals">
          <div class="signals-title">Active Signals</div>
          <div id="signalsChips" class="chips"></div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="stat-k">Scans</div>
            <div class="stat-v" id="statScans">0</div>
          </div>
          <div class="stat">
            <div class="stat-k">Allow</div>
            <div class="stat-v ok" id="statAllow">0</div>
          </div>
          <div class="stat">
            <div class="stat-k">Warn</div>
            <div class="stat-v warn" id="statWarn">0</div>
          </div>
          <div class="stat">
            <div class="stat-k">Block</div>
            <div class="stat-v bad" id="statBlock">0</div>
          </div>
        </div>

        <div class="two-cols">
          <div class="box">
            <div class="box-title">Primary reasons</div>
            <ul id="reasonsList" class="list"></ul>
          </div>
          <div class="box">
            <div class="box-title">Remediation steps</div>
            <ul id="stepsList" class="list"></ul>
          </div>
        </div>
      </section>

      <!-- Bottom: Findings table -->
      <section class="card card-xl">
        <div class="card-h">
          <div>
            <div class="h-title">Per-line Findings</div>
            <div class="h-sub">Each input line gets an independent decision.</div>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>Input</th>
                <th>Type</th>
                <th>Decision</th>
                <th>Severity</th>
                <th>Confidence</th>
                <th>Entropy</th>
              </tr>
            </thead>
            <tbody id="findingsBody">
              <tr class="empty">
                <td colspan="6">No results yet. Paste input then click Execute Scan.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="footer-note">Local-only counters (no identity, no network, no tracking). Reset with Clear.</div>
      </section>
    </main>
  </div>

  <!-- Info modal -->
  <div id="modalBackdrop" class="modal-backdrop hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-h">
        <div id="modalTitle" class="modal-title">Validoon — Info</div>
      </div>
      <div class="modal-b">
        <div class="modal-sub">Privacy-first, local-only. No uploads.</div>
        <ul class="modal-list">
          <li>Immediate value: paste → scan → actionable reasons + steps.</li>
          <li>Signals: phishing-style URLs, SQL/XSS/CMD/LFI patterns, obfuscation.</li>
          <li>Export: JSON report for tickets / notes / SOC handoff.</li>
          <li>Advanced analysis can be added later (still local).</li>
        </ul>
      </div>
      <div class="modal-f">
        <button id="btnCloseModal" class="btn btn-primary">Close</button>
      </div>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
